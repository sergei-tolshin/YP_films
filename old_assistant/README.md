
# Голосовой ассистент

Голосовой помощник интегрируется с сервисами поиска фильмов, UGC, рекомендательной системой, сервисом уведомлений и авторизации.

## Основные требования

1. Встроенный синтез и распознование речи для озвучивания текстовой информации. Поддержка русского и английского языков.
2. Поддерживаемые платформы: Яндекс.Диалоги (<https://dialogs.yandex.ru>)
3. Безопасность (авторизация и аутентификация пользователей).
4. Сервис должен иметь API для взаимодействия.
5. Время ожидания ответа от навыка — 3 секунды.

## Общее описание сервиса

1. Устройство пользователя с усановленным приложением Яндекса, Яндекс.Браузер или Яндекс.Станция принимает голосовые команды от
пользователя и перенаправляет их на платформу Яндекс.Диалоги, которая состоит из систем синтеза и распознования речи.
2. Сервис голосового помощника (навыка Алисы) - это приложение, которое обрабатывает определенный сценарий поведения команды, переданной из
платформы Яндекс.Диалоги по протоколу HTTPS. Навык содержит весь алгоритм общения голосового помощника с пользователем.
3. При необходимости озвучить голосовое сообщение синтезированным голосом, приложение навыка сообщает платформе Яндекс.Диалоги о необходимости отправить
текст для синтеза, платформа из полученного текста возвращает поток речи на устройство для проигрывания пользователю.

<img src="https://yastatic.net/s3/doc-binary/freeze/ru/dialogs/1acb5d5211ef6ffc06be6bf16c9fd002728857b5.svg" width="800" />

## Установка 

1. Запустить
    - python3 -m venv aliceenv
    - source ./aliceenv/bin/activate
    - pip install pip -U
    - pip install setuptools -U
    - pip install uvloop
    - pip install aioalice -U
    - pip install aiohttp==3.7.4
2. поставить ngrok (Запуск ./ngrok http http://localhost:3001)
3. Создать навык алисы в Яндекс.Диалоге

---

### Технологии

* #### Фреймворки

  * aiohttp

* #### Библиотеки

  * aioAlice (<https://github.com/mahenzon/aioalice>)

* #### Базы данных

  * Redis

* #### Прокси сервер

  * Nginx

* #### Обмен данными между сервисами

  * REST API
  * gRPC

### Возможные варианты фраз для взаимодействия с помощником

Активация навыка: "Запусти навык мой Киноскоп"

Голосовые команды MVP:

* Без авторизации пользователя:
  * "Найди/поищи фильма/мультфильм/сериал Х?"
  * "Кто автор/режиссер/сценарист/продюссер фильма Х?"
  * "Сколько фильмов снял/выпусти Y?"
  * "Кто снялся/снимался в фильме Х?"
  * "В каких фильмах снялся/снимался актер Z?"
  * "Какой рейтинг у фильма X?"
  * "Какой жанр у фильма X?"
  * "Расскажи о фильме X?"

Голосовые команды на будущее:

* Без авторизации пользователя:
  * "Порекомендуй/предложи фильм?"
  * "Порекомендуй/предложи фильм в жанре?"

* Требующие авторизации:
  * "Добавь фильм Х в избранное."
  * "Отправь моим друзьям ссылку на фильм Х?"
  * "Включи/Открой/Запусти последний недосмотренный фильм."
  * "Порекомендуй/предложи фильм?"
  * "Порекомендуй/предложи фильм в жанре?"
  * "Порекомендуй комедию/мелодраму/детектив/и т.д."